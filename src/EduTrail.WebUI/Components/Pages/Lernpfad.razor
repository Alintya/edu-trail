@page "/lernpfad"

@using EduTrail.Domain.Entities
@using EduTrail.WebUI.Components

<PageTitle>Lernpfad</PageTitle>
<div class="min-h-screen bg-gradient-to-br from-purple-50 via-white to-purple-50 py-6 sm:py-12 px-4">
    <div class="max-w-3xl mx-auto">
        <header class="text-center mb-8 sm:mb-12">
            <h1 class="text-3xl sm:text-4xl font-bold text-purple-800 mb-6">
                Lernpfad
            </h1>
            <div class="max-w-md mx-auto mb-8">
                <div class="bg-white rounded-full h-4 shadow-inner overflow-hidden mb-2">
                    <div class="h-full bg-gradient-to-r from-purple-500 to-purple-400 transition-all duration-500 ease-out"
                        style="width: @(50 + "%")" />
                </div>
                <p class="text-gray-600 font-medium mb-6">
                    @(50)% Abgeschlossen
                </p>
            </div>
        </header>
        <div>
            @foreach (var category in Categories)
            {
                <ProjectSection Title=@category.Title Tasks=@new(category.Assignments) ToggleTask=@ToggleTask />
            }
        </div>
    </div>
</div>

@code {
    private List<TrailModule> Categories = new();
    // private ProgressData Progress = new();

    protected override void OnInitialized()
    {
        // Mock data
        Categories = new List<TrailModule>
{
new TrailModule
{
Title = "📚 Grundlagen",
Assignments = new List<Assignment>
{
new Assignment
{
Id = Guid.NewGuid(),
Title = "Einführung in die Programmierung",
Description = "Lerne die Grundlagen der Programmierung kennen."
},
new Assignment
{
Id = Guid.NewGuid(),
Title = "Variablen und Datentypen",
Description = "Lerne die verschiedenen Datentypen und Variablen kennen."
}
}
},
new TrailModule
{
Title = "🧱 Objektorientierte Programmierung",
Assignments = new List<Assignment>
{
new Assignment
{
Id = Guid.NewGuid(),
Title = "Klassen und Objekte",
Description = "Lerne, wie du Klassen und Objekte in C# erstellst.",
},
new Assignment
{
Id = Guid.NewGuid(),
Title = "Vererbung",
Description = "Lerne, wie du Klassen vererben kannst.",
}
}
}
};
    }

    private void ToggleTask(string id)
    {
        // Logic for toggling task status
    }

    private void UpdateSolution(string id, string solution)
    {
        // Logic to update solutions
    }

    private void ExportProgress()
    {
        // Export progress logic
    }

    // private void ImportProgress(ProgressData progress)
    // {
    // Progress = progress;
    // }
}
